<div class="ship-system-form">
    <h1 class="display-5 mb-5">Ассоциация корабля и его системы</h1>
    <form [formGroup]="form" (ngSubmit)="OnSubmit()">
        <div class="row">
            <div class="col">
                <div class="mb-3">
                    <label for="selectShip" class="form-label">Выберите корабль</label>
                    <select class="form-select" id="selectShip" formControlName="ship"
                    [ngClass]="{'invalid': form.get('ship').invalid && form.get('ship').touched}">
                        <option *ngFor="let title of shipTitles" [value]="title">{{ title }}</option>
                    </select>
                </div>
            </div>
            <div class="col">
                <div class="mb-3">
                    <label for="selectShipSystem" class="form-label">Выберите систему корабля</label>
                    <select class="form-select" id="selectShipSystem" formControlName="ship_system"
                    [ngClass]="{'invalid': form.get('ship_system').invalid && form.get('ship_system').touched}">
                        <option *ngFor="let title of shipSystemTitles" [value]="title">{{ title }}</option>
                    </select>
                </div>
            </div>
        </div>
        <button type="submit" class="btn btn-primary" [disabled]="form.invalid || form.disabled">Сохранить</button>
    </form>
    <div class="association-list">
        <h2>Список ассоциаций:</h2>
        <div class="associations-container">
            <div class="row w-100">
                <div class="col h5 text-center">Корабли</div>
                <div class="w-25"></div>
                <div class="col h5 text-center">Системы кораблей</div>
            </div>
            <div *ngFor="let association of associations" class="row w-100 align-items-center mb-2">
                <div class="model-block col-4 p-0" (click)="openFullScreen(association.model1)">{{ association.model1.title }}</div>
                <div class="col-1 p-0"><hr class="w-100 m-0"/></div>
                <div class="col-2 p-0"><button class="btn btn-danger w-100" (click)="deleteAssociation(association.id)">Удалить</button></div>
                <div class="col-1 p-0"><hr class="w-100 m-0"/></div>
                <div class="model-block col-4 p-0" (click)="openFullScreen(association.model2)">{{ association.model2.title }}</div>
            </div>
        </div>
    </div>
    <app-description-screen [(selectedModel)]="selectedShipModel"></app-description-screen>
    <app-description-screen-sysship [(selectedModel)]="selectedShipSystemModel"></app-description-screen-sysship>
</div>