import{a as F,b as fe,c as O}from"./chunk-4DD3OCV4.js";import"./chunk-WXI33M2S.js";import{a as K,b as m,c as T,d as N,e as A,f as g,g as V,h as I,i as q,j as L,k as $,l as j,m as me,n as pe}from"./chunk-NO5B53JN.js";import{Aa as w,B as se,Ba as k,Ea as ue,Fa as b,G as x,H as le,K as C,L as y,Na as P,Oa as B,P as Y,Pa as ee,Qa as ae,T as u,U as _,Ua as de,_a as ce,da as h,fa as a,ja as o,ka as i,la as v,ma as E,oa as p,qa as S,wa as l,x as W,xa as f,za as D}from"./chunk-4D6IU5GQ.js";function ke(r,s){if(r&1&&(o(0,"div",2)(1,"div",3)(2,"p",4),l(3,"\u0422\u0438\u043F:"),i()(),o(4,"div",5)(5,"p",4),l(6),i()()()),r&2){let d=S(2);u(6),f(d.selectedModel.type)}}function Pe(r,s){if(r&1){let d=E();o(0,"button",8),p("click",function(){C(d);let t=S(2);return y(t.deleteModel())}),l(1,"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043C\u043E\u0434\u0435\u043B\u044C"),i()}}function Be(r,s){if(r&1){let d=E();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),l(4,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435:"),i()(),o(5,"div",5)(6,"h2",4),l(7),i()()(),o(8,"div",2)(9,"div",3)(10,"p",4),l(11,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435:"),i()(),o(12,"div",5)(13,"p",4),l(14),i()()(),h(15,ke,7,1,"div",6),o(16,"div",7)(17,"button",8),p("click",function(){C(d);let t=S();return y(t.closeFullScreen())}),l(18,"\u0417\u0430\u043A\u0440\u044B\u0442\u044C"),i(),h(19,Pe,2,0,"button",9),i()()}if(r&2){let d=S();u(7),f(d.selectedModel.title),u(7),f(d.selectedModel.description),u(),a("ngIf",d.selectedModel.type),u(4),a("ngIf",d.tablename)}}var G=(()=>{let s=class s{constructor(n,t){this.shipService=n,this.snackBar=t,this.selectedModelChange=new Y,this.deletedModel=new Y}closeFullScreen(){console.log(this.selectedModel),this.selectedModel=null,this.selectedModelChange.emit(this.selectedModel)}deleteModel(){this.shipService.DeleteModel(`api/v1/deleteModel?id=${this.selectedModel.id}&tablename=${this.tablename}`).subscribe(n=>{console.log(n),this.deletedModel.emit(this.selectedModel.id),this.snackBar.open("\u041C\u043E\u0434\u0435\u043B\u044C \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D\u0430","OK",{duration:3e3})},n=>{let t="";switch(n.status){case 404:t="\u041E\u0448\u0438\u0431\u043A\u0430. \u041C\u043E\u0434\u0435\u043B\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430";break;case 500:t="\u041E\u0448\u0438\u0431\u043A\u0430. \u0421\u043A\u043E\u0440\u0435\u0435 \u0432\u0441\u0435\u0433\u043E \u0437\u0430\u043F\u0438\u0441\u044C \u0441\u0432\u044F\u0437\u0430\u043D\u0430 \u0441 \u0434\u0440\u0443\u0433\u043E\u0439 \u043F\u043E \u043A\u043B\u044E\u0447\u0443";break;default:t="\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430";break}this.snackBar.open(t,"OK",{duration:3e3})},()=>{this.closeFullScreen()})}};s.\u0275fac=function(t){return new(t||s)(_(O),_(F))},s.\u0275cmp=x({type:s,selectors:[["app-description-screen"]],inputs:{selectedModel:"selectedModel",tablename:"tablename"},outputs:{selectedModelChange:"selectedModelChange",deletedModel:"deletedModel"},decls:1,vars:1,consts:[["class","description-screen",4,"ngIf"],[1,"description-screen"],[1,"row"],[1,"col-3"],[1,"my-3"],[1,"col-9"],["class","row",4,"ngIf"],[1,"buttons"],[3,"click"],[3,"click",4,"ngIf"]],template:function(t,e){t&1&&h(0,Be,20,4,"div",0),t&2&&a("ngIf",e.selectedModel)},dependencies:[ee],styles:[".description-screen[_ngcontent-%COMP%]{position:fixed;width:70%;height:60%;top:20%;left:15%;background-color:#001c35e6;border-radius:20px;color:#fff;padding:20px;box-sizing:border-box;overflow:auto}.description-screen[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{border-bottom:2px solid white}.description-screen[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:5%}.description-screen[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;overflow-y:auto;max-height:100px;overflow-wrap:break-word}.description-screen[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;display:flex;justify-content:space-around;align-items:center;transform:translate(-50%);width:50%}.description-screen[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#000;padding:10px 20px;border:none;cursor:pointer}"]});let r=s;return r})();var ge=r=>({invalid:r});function Te(r,s){if(r&1){let d=E();o(0,"div",14),p("click",function(){let t=C(d).$implicit,e=S();return y(e.openFullScreen(t))}),l(1),i()}if(r&2){let d=s.$implicit;u(),f(d.title)}}var he=(()=>{let s=class s{constructor(n,t){this.shipModelService=n,this.snackBar=t}ngOnInit(){this.form=new A({title:new g(null,[m.required,m.maxLength(50)]),description:new g(null,[m.required,m.maxLength(150)])}),this.getModels().subscribe(),this.responseError=!1}ngOnDestroy(){this.aSub&&this.aSub.unsubscribe()}OnSubmit(){this.form.disable(),this.aSub=this.shipModelService.SendData2Server("api/v1/create/ship",this.form.value).subscribe(n=>{this.getModels().subscribe(()=>{this.snackBar.open("\u041C\u043E\u0434\u0435\u043B\u044C \u0441\u043E\u0437\u0434\u0430\u043D\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E","OK",{duration:5e3}),this.form.enable(),this.form.reset()})},n=>{this.snackBar.open(`\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u043C\u043E\u0434\u0435\u043B\u0438: ${n.message}`,"OK",{duration:5e3}),this.responseError=!0,this.form.enable()})}openFullScreen(n){this.selectedModel=n}deleteModel(n){this.models=this.models.filter(t=>t.id!=n)}getModels(){return this.shipModelService.GetDataFromServer("api/v1/getModel/ships").pipe(W(n=>{this.models=n}))}};s.\u0275fac=function(t){return new(t||s)(_(O),_(F))},s.\u0275cmp=x({type:s,selectors:[["app-ship-form"]],decls:22,vars:11,consts:[[1,"ship-form"],[1,"display-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","inputTitle",1,"form-label"],["type","text","id","inputTitle","aria-describedby","titleHelp","formControlName","title",1,"form-control",3,"ngClass"],["id","titleHelp",1,"form-text"],["for","inputDescription",1,"form-label"],["type","text","id","inputDescription","formControlName","description",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"my-4"],[1,"model-blocks"],["class","model-block",3,"click",4,"ngFor","ngForOf"],[3,"selectedModelChange","deletedModel","selectedModel","tablename"],[1,"model-block",3,"click"]],template:function(t,e){t&1&&(o(0,"div",0)(1,"h1",1),l(2,"\u041A\u043E\u0440\u0430\u0431\u043B\u044C"),i(),o(3,"form",2),p("ngSubmit",function(){return e.OnSubmit()}),o(4,"div",3)(5,"label",4),l(6,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"),i(),v(7,"input",5),o(8,"div",6),l(9,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u043E\u0440\u0430\u0431\u043B\u044F, \u043A\u043E\u0442\u043E\u0440\u043E\u0433\u043E \u043D\u0435\u0442 \u0432 \u0441\u043F\u0438\u0441\u043A\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0445"),i()(),o(10,"div",3)(11,"label",7),l(12,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"),i(),v(13,"input",8),i(),o(14,"button",9),l(15,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),i()(),o(16,"div",10)(17,"h2"),l(18,"\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0435 \u043A\u043E\u0440\u0430\u0431\u043B\u0438"),i(),o(19,"div",11),h(20,Te,2,1,"div",12),i()(),o(21,"app-description-screen",13),k("selectedModelChange",function(c){return w(e.selectedModel,c)||(e.selectedModel=c),c}),p("deletedModel",function(c){return e.deleteModel(c)}),i()()),t&2&&(u(3),a("formGroup",e.form),u(4),a("ngClass",b(7,ge,e.form.get("title").invalid&&e.form.get("title").touched)),u(6),a("ngClass",b(9,ge,e.form.get("description").invalid&&e.form.get("description").touched)),u(),a("disabled",e.form.invalid||e.form.disabled),u(6),a("ngForOf",e.models),u(),D("selectedModel",e.selectedModel),a("tablename","ships"))},dependencies:[P,B,V,K,T,N,I,q,G],styles:[".association-list[_ngcontent-%COMP%]{margin-top:20px}.associations-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.association[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.model-blocks[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.model-block[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #ccc;border-radius:5px;background-color:#f0f0f0;text-align:center;cursor:pointer}.invalid[_ngcontent-%COMP%]{border-color:red}.disabledBtn[_ngcontent-%COMP%]{background-color:gray;border-color:gray}"]});let r=s;return r})();function Ne(r,s){if(r&1){let d=E();o(0,"button",7),p("click",function(){C(d);let t=S(2);return y(t.deleteModel())}),l(1,"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043C\u043E\u0434\u0435\u043B\u044C"),i()}}function Ae(r,s){if(r&1){let d=E();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),l(4,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435:"),i()(),o(5,"div",5)(6,"h2",4),l(7),i()()(),o(8,"div",2)(9,"div",3)(10,"p",4),l(11,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435:"),i()(),o(12,"div",5)(13,"p",4),l(14),i()()(),o(15,"div",2)(16,"div",3)(17,"p",4),l(18,"\u0422\u0438\u043F:"),i()(),o(19,"div",5)(20,"p",4),l(21),i()()(),o(22,"div",2)(23,"div",3)(24,"p",4),l(25,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F:"),i()(),o(26,"div",5)(27,"p",4),l(28),i()()(),o(29,"div",2)(30,"div",3)(31,"p",4),l(32,"\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442:"),i()(),o(33,"div",5)(34,"p",4),l(35),i()()(),o(36,"div",6)(37,"button",7),p("click",function(){C(d);let t=S();return y(t.closeFullScreen())}),l(38,"\u0417\u0430\u043A\u0440\u044B\u0442\u044C"),i(),h(39,Ne,2,0,"button",8),i()()}if(r&2){let d=S();u(7),f(d.selectedModel.title),u(7),f(d.selectedModel.description),u(7),f(d.selectedModel.type),u(7),f(d.selectedModel.category),u(7),f(d.selectedModel.document),u(4),a("ngIf",d.tablename)}}var X=(()=>{let s=class s{constructor(n,t){this.shipService=n,this.snackBar=t,this.selectedModelChange=new Y,this.deletedModel=new Y}closeFullScreen(){console.log(this.selectedModel),this.selectedModel=null,this.selectedModelChange.emit(this.selectedModel)}deleteModel(){this.shipService.DeleteModel(`api/v1/deleteModel?id=${this.selectedModel.id}&tablename=${this.tablename}`).subscribe(n=>{console.log(n),this.deletedModel.emit(this.selectedModel.id),this.snackBar.open("\u041C\u043E\u0434\u0435\u043B\u044C \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D\u0430","OK",{duration:3e3})},n=>{let t="";switch(n.status){case 404:t="\u041E\u0448\u0438\u0431\u043A\u0430. \u041C\u043E\u0434\u0435\u043B\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430";break;case 500:t="\u041E\u0448\u0438\u0431\u043A\u0430. \u0421\u043A\u043E\u0440\u0435\u0435 \u0432\u0441\u0435\u0433\u043E \u0437\u0430\u043F\u0438\u0441\u044C \u0441\u0432\u044F\u0437\u0430\u043D\u0430 \u0441 \u0434\u0440\u0443\u0433\u043E\u0439 \u043F\u043E \u043A\u043B\u044E\u0447\u0443";break;default:t="\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430";break}this.snackBar.open(t,"OK",{duration:3e3})},()=>{this.closeFullScreen()})}};s.\u0275fac=function(t){return new(t||s)(_(O),_(F))},s.\u0275cmp=x({type:s,selectors:[["app-description-screen-sysship"]],inputs:{selectedModel:"selectedModel",tablename:"tablename"},outputs:{selectedModelChange:"selectedModelChange",deletedModel:"deletedModel"},decls:1,vars:1,consts:[["class","description-screen",4,"ngIf"],[1,"description-screen"],[1,"row"],[1,"col-3"],[1,"my-3"],[1,"col-9"],[1,"buttons"],[3,"click"],[3,"click",4,"ngIf"]],template:function(t,e){t&1&&h(0,Ae,40,6,"div",0),t&2&&a("ngIf",e.selectedModel)},dependencies:[ee],styles:[".description-screen[_ngcontent-%COMP%]{position:fixed;width:70%;height:70%;top:15%;left:15%;background-color:#001c35e6;border-radius:20px;color:#fff;padding:20px;box-sizing:border-box;overflow:auto}.description-screen[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{border-bottom:2px solid white}.description-screen[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:5%}.description-screen[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;overflow-y:auto;max-height:100px;overflow-wrap:break-word}.description-screen[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;display:flex;justify-content:space-around;align-items:center;transform:translate(-50%);width:50%}.description-screen[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#000;padding:10px 20px;border:none;cursor:pointer}"]});let r=s;return r})();var Z=r=>({invalid:r}),Ve=()=>[1,2,3];function Ie(r,s){if(r&1&&(o(0,"option",18),l(1),i()),r&2){let d=s.$implicit;a("value",d),u(),f(d)}}function qe(r,s){if(r&1){let d=E();o(0,"div",19),p("click",function(){let t=C(d).$implicit,e=S();return y(e.openFullScreen(t))}),l(1),i()}if(r&2){let d=s.$implicit;u(),f(d.title)}}var be=(()=>{let s=class s{constructor(n,t){this.shipModelService=n,this.snackBar=t}ngOnInit(){this.form=new A({title:new g(null,[m.required,m.maxLength(50)]),description:new g(null,[m.required,m.maxLength(150)]),type:new g(null,[m.required,m.maxLength(25)]),category:new g(1,[m.required,m.min(1),m.max(3)]),document:new g(null,[m.required,m.maxLength(50)])}),this.getModels().subscribe(),this.responseError=!1}ngOnDestroy(){this.aSub&&this.aSub.unsubscribe()}OnSubmit(){this.form.disable(),this.aSub=this.shipModelService.SendData2Server("api/v1/create/ship-system",this.form.value).subscribe(n=>{this.getModels().subscribe(()=>{this.snackBar.open("\u041C\u043E\u0434\u0435\u043B\u044C \u0441\u043E\u0437\u0434\u0430\u043D\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E","OK",{duration:3e3}),this.form.enable(),this.form.reset()})},n=>{this.snackBar.open(`\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u043C\u043E\u0434\u0435\u043B\u0438: ${n.message}`,"OK",{duration:5e3}),this.responseError=!0,this.form.enable()})}openFullScreen(n){this.selectedModel=n}deleteModel(n){this.models=this.models.filter(t=>t.id!=n)}getModels(){return this.shipModelService.GetDataFromServer("api/v1/getModel/ship-systems").pipe(W(n=>{this.models=n}))}};s.\u0275fac=function(t){return new(t||s)(_(O),_(F))},s.\u0275cmp=x({type:s,selectors:[["app-ship-system-form"]],inputs:{responseError:"responseError"},decls:35,vars:22,consts:[[1,"ship-system-form"],[1,"display-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","inputTitle",1,"form-label"],["type","text","id","inputTitle","aria-describedby","titleHelp","formControlName","title",1,"form-control",3,"ngClass"],["id","titleHelp",1,"form-text"],["for","inputDescription",1,"form-label"],["type","text","id","inputDescription","formControlName","description",1,"form-control",3,"ngClass"],["type","text","id","inputDescription","formControlName","type",1,"form-control",3,"ngClass"],["id","selectShipSystem","formControlName","category",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["type","text","id","inputDescription","formControlName","document",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"my-4"],[1,"model-blocks"],["class","model-block",3,"click",4,"ngFor","ngForOf"],[3,"selectedModelChange","deletedModel","selectedModel","tablename"],[3,"value"],[1,"model-block",3,"click"]],template:function(t,e){t&1&&(o(0,"div",0)(1,"h1",1),l(2,"\u0421\u0438\u0441\u0442\u0435\u043C\u0430 \u043A\u043E\u0440\u0430\u0431\u043B\u044F"),i(),o(3,"form",2),p("ngSubmit",function(){return e.OnSubmit()}),o(4,"div",3)(5,"label",4),l(6,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"),i(),v(7,"input",5),o(8,"div",6),l(9,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043C\u044B \u043A\u043E\u0440\u0430\u0431\u043B\u044F, \u043A\u043E\u0442\u043E\u0440\u043E\u0439 \u043D\u0435\u0442 \u0432 \u0441\u043F\u0438\u0441\u043A\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0445"),i()(),o(10,"div",3)(11,"label",7),l(12,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"),i(),v(13,"input",8),i(),o(14,"div",3)(15,"label",7),l(16,"\u0422\u0438\u043F"),i(),v(17,"input",9),i(),o(18,"div",3)(19,"label",7),l(20,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F"),i(),o(21,"select",10),h(22,Ie,2,2,"option",11),i()(),o(23,"div",3)(24,"label",7),l(25,"\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442"),i(),v(26,"input",12),i(),o(27,"button",13),l(28,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),i()(),o(29,"div",14)(30,"h2"),l(31,"\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043C\u044B"),i(),o(32,"div",15),h(33,qe,2,1,"div",16),i(),o(34,"app-description-screen-sysship",17),k("selectedModelChange",function(c){return w(e.selectedModel,c)||(e.selectedModel=c),c}),p("deletedModel",function(c){return e.deleteModel(c)}),i()()()),t&2&&(u(3),a("formGroup",e.form),u(4),a("ngClass",b(11,Z,e.form.get("title").invalid&&e.form.get("title").touched)),u(6),a("ngClass",b(13,Z,e.form.get("description").invalid&&e.form.get("description").touched)),u(4),a("ngClass",b(15,Z,e.form.get("type").invalid&&e.form.get("type").touched)),u(4),a("ngClass",b(17,Z,e.form.get("category").invalid&&e.form.get("category").touched)),u(),a("ngForOf",ue(19,Ve)),u(4),a("ngClass",b(20,Z,e.form.get("document").invalid&&e.form.get("document").touched)),u(),a("disabled",e.form.invalid||e.form.disabled),u(6),a("ngForOf",e.models),u(),D("selectedModel",e.selectedModel),a("tablename","ship_systems"))},dependencies:[P,B,V,$,j,K,L,T,N,I,q,X],styles:[".description-screen[_ngcontent-%COMP%]{position:fixed;width:70%;height:60%;top:20%;left:15%;background-color:#001c35e6;border-radius:20px;color:#fff;padding:20px;box-sizing:border-box;overflow-y:auto}.description-screen[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{border-bottom:2px solid white}.description-screen[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:5%}.description-screen[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}.description-screen[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;transform:translate(-50%);background-color:#fff;color:#000;padding:10px 20px;border:none;cursor:pointer}",".association-list[_ngcontent-%COMP%]{margin-top:20px}.associations-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.association[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.model-blocks[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.model-block[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #ccc;border-radius:5px;background-color:#f0f0f0;text-align:center;cursor:pointer}.invalid[_ngcontent-%COMP%]{border-color:red}.disabledBtn[_ngcontent-%COMP%]{background-color:gray;border-color:gray}"]});let r=s;return r})();var ie=r=>({invalid:r});function Ge(r,s){if(r&1&&(o(0,"option",17),l(1),i()),r&2){let d=s.$implicit;a("value",d),u(),f(d)}}function We(r,s){if(r&1){let d=E();o(0,"div",18),p("click",function(){let t=C(d).$implicit,e=S();return y(e.openFullScreen(t))}),l(1),i()}if(r&2){let d=s.$implicit;u(),f(d.title)}}var _e=(()=>{let s=class s{constructor(n,t){this.shipModelService=n,this.snackBar=t}ngOnInit(){this.form=new A({title:new g(null,[m.required,m.maxLength(50)]),description:new g(null,[m.required,m.maxLength(150)]),ship_system:new g(null,[m.required])}),this.shipModelService.GetDataFromServer("api/v1/getModel/dangers").subscribe(n=>{this.models=n,this.shipModelService.GetDataFromServer("api/v1/getModel/ship-systems").subscribe(t=>{this.shipSystems=t.map(e=>e.title)})}),this.responseError=!1}ngOnDestroy(){this.aSub&&this.aSub.unsubscribe()}OnSubmit(){this.form.disable(),this.aSub=this.shipModelService.SendData2Server("api/v1/create/danger",this.form.value).subscribe(n=>{this.snackBar.open("\u041C\u043E\u0434\u0435\u043B\u044C \u0441\u043E\u0437\u0434\u0430\u043D\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E","OK",{duration:5e3}),this.models.push(this.form.value),this.form.enable(),this.form.reset()},n=>{this.snackBar.open(`\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u043C\u043E\u0434\u0435\u043B\u0438: ${n.message}`,"OK",{duration:5e3}),this.responseError=!0,this.form.enable()})}openFullScreen(n){this.selectedModel=n}deleteModel(n){this.models=this.models.filter(t=>t.id!=n)}getModels(){return this.shipModelService.GetDataFromServer("api/v1/getModel/dangers").pipe(W(n=>{this.models=n,this.shipModelService.GetDataFromServer("api/v1/getModel/ship-systems").subscribe(t=>{this.shipSystems=t.map(e=>e.title)})}))}};s.\u0275fac=function(t){return new(t||s)(_(O),_(F))},s.\u0275cmp=x({type:s,selectors:[["app-danger-form"]],inputs:{responseError:"responseError"},decls:27,vars:15,consts:[[1,"danger-form"],[1,"display-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","inputTitle",1,"form-label"],["type","text","id","inputTitle","aria-describedby","titleHelp","formControlName","title",1,"form-control",3,"ngClass"],["id","titleHelp",1,"form-text"],["for","inputDescription",1,"form-label"],["type","text","id","inputDescription","formControlName","description",1,"form-control",3,"ngClass"],["for","selectShipSystem",1,"form-label"],["id","selectShipSystem","formControlName","ship_system",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"my-4"],[1,"model-blocks"],["class","model-block",3,"click",4,"ngFor","ngForOf"],[3,"selectedModelChange","deletedModel","selectedModel","tablename"],[3,"value"],[1,"model-block",3,"click"]],template:function(t,e){t&1&&(o(0,"div",0)(1,"h1",1),l(2,"\u0423\u0433\u0440\u043E\u0437\u0430"),i(),o(3,"form",2),p("ngSubmit",function(){return e.OnSubmit()}),o(4,"div",3)(5,"label",4),l(6,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"),i(),v(7,"input",5),o(8,"div",6),l(9,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0443\u0433\u0440\u043E\u0437\u044B, \u043A\u043E\u0442\u043E\u0440\u043E\u0439 \u043D\u0435\u0442 \u0432 \u0441\u043F\u0438\u0441\u043A\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0445"),i()(),o(10,"div",3)(11,"label",7),l(12,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"),i(),v(13,"input",8),i(),o(14,"div",3)(15,"label",9),l(16,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0438\u0441\u0442\u0435\u043C\u0443"),i(),o(17,"select",10),h(18,Ge,2,2,"option",11),i()(),o(19,"button",12),l(20,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),i()(),o(21,"div",13)(22,"h2"),l(23,"\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0435 \u0443\u0433\u0440\u043E\u0437\u044B"),i(),o(24,"div",14),h(25,We,2,1,"div",15),i()(),o(26,"app-description-screen",16),k("selectedModelChange",function(c){return w(e.selectedModel,c)||(e.selectedModel=c),c}),p("deletedModel",function(c){return e.deleteModel(c)}),i()()),t&2&&(u(3),a("formGroup",e.form),u(4),a("ngClass",b(9,ie,e.form.get("title").invalid&&e.form.get("title").touched)),u(6),a("ngClass",b(11,ie,e.form.get("description").invalid&&e.form.get("description").touched)),u(4),a("ngClass",b(13,ie,e.form.get("ship_system").invalid&&e.form.get("ship_system").touched)),u(),a("ngForOf",e.shipSystems),u(),a("disabled",e.form.invalid||e.form.disabled),u(6),a("ngForOf",e.models),u(),D("selectedModel",e.selectedModel),a("tablename","dangers"))},dependencies:[P,B,V,$,j,K,L,T,N,I,q,G],styles:[".model-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.model-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .model-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left;word-wrap:break-word}.model-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#333}",".association-list[_ngcontent-%COMP%]{margin-top:20px}.associations-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.association[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.model-blocks[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.model-block[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #ccc;border-radius:5px;background-color:#f0f0f0;text-align:center;cursor:pointer}.invalid[_ngcontent-%COMP%]{border-color:red}.disabledBtn[_ngcontent-%COMP%]{background-color:gray;border-color:gray}"]});let r=s;return r})();var ne=r=>({invalid:r});function Ke(r,s){if(r&1){let d=E();o(0,"div",16),p("click",function(){let t=C(d).$implicit,e=S();return y(e.openFullScreen(t))}),l(1),i()}if(r&2){let d=s.$implicit;u(),f(d.title)}}var ve=(()=>{let s=class s{constructor(n,t){this.shipModelService=n,this.snackBar=t}ngOnInit(){this.form=new A({title:new g(null,[m.required,m.maxLength(50)]),description:new g(null,[m.required,m.maxLength(150)]),type:new g(null,[m.required,m.maxLength(25)]),ship_system:new g(null,[m.required])}),this.getModels().subscribe(),this.responseError=!1}ngOnDestroy(){this.aSub&&this.aSub.unsubscribe()}OnSubmit(){this.form.disable(),this.aSub=this.shipModelService.SendData2Server("api/v1/create/equipment",this.form.value).subscribe(n=>{this.getModels().subscribe(()=>{this.snackBar.open("\u041C\u043E\u0434\u0435\u043B\u044C \u0441\u043E\u0437\u0434\u0430\u043D\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E","OK",{duration:5e3}),this.form.enable(),this.form.reset()})},n=>{this.snackBar.open(`\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u043C\u043E\u0434\u0435\u043B\u0438: ${n.message}`,"OK",{duration:5e3}),this.responseError=!0,this.form.enable()})}openFullScreen(n){this.selectedModel=n}deleteModel(n){this.models=this.models.filter(t=>t.id!=n)}getModels(){return this.shipModelService.GetDataFromServer("api/v1/getModel/equipments").pipe(W(n=>{this.models=n}))}};s.\u0275fac=function(t){return new(t||s)(_(O),_(F))},s.\u0275cmp=x({type:s,selectors:[["app-equipment-form"]],inputs:{responseError:"responseError"},decls:26,vars:14,consts:[[1,"equipment-form"],[1,"display-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","inputTitle",1,"form-label"],["type","text","id","inputTitle","aria-describedby","titleHelp","formControlName","title",1,"form-control",3,"ngClass"],["id","titleHelp",1,"form-text"],["for","inputDescription",1,"form-label"],["type","text","id","inputDescription","formControlName","description",1,"form-control",3,"ngClass"],["for","inputType",1,"form-label"],["type","text","id","inputType","formControlName","type",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"my-4"],[1,"model-blocks"],["class","model-block",3,"click",4,"ngFor","ngForOf"],[3,"selectedModelChange","deletedModel","selectedModel","tablename"],[1,"model-block",3,"click"]],template:function(t,e){t&1&&(o(0,"div",0)(1,"h1",1),l(2,"\u041E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u0438\u0435"),i(),o(3,"form",2),p("ngSubmit",function(){return e.OnSubmit()}),o(4,"div",3)(5,"label",4),l(6,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"),i(),v(7,"input",5),o(8,"div",6),l(9,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u0438\u044F, \u043A\u043E\u0442\u043E\u0440\u043E\u0433\u043E \u043D\u0435\u0442 \u0432 \u0441\u043F\u0438\u0441\u043A\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0445"),i()(),o(10,"div",3)(11,"label",7),l(12,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"),i(),v(13,"input",8),i(),o(14,"div",3)(15,"label",9),l(16,"\u0422\u0438\u043F"),i(),v(17,"input",10),i(),o(18,"button",11),l(19,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),i()(),o(20,"div",12)(21,"h2"),l(22,"\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0435\u0435 \u043E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u0438\u0435"),i(),o(23,"div",13),h(24,Ke,2,1,"div",14),i()(),o(25,"app-description-screen",15),k("selectedModelChange",function(c){return w(e.selectedModel,c)||(e.selectedModel=c),c}),p("deletedModel",function(c){return e.deleteModel(c)}),i()()),t&2&&(u(3),a("formGroup",e.form),u(4),a("ngClass",b(8,ne,e.form.get("title").invalid&&e.form.get("title").touched)),u(6),a("ngClass",b(10,ne,e.form.get("description").invalid&&e.form.get("description").touched)),u(4),a("ngClass",b(12,ne,e.form.get("type").invalid&&e.form.get("type").touched)),u(),a("disabled",e.form.invalid||e.form.disabled),u(6),a("ngForOf",e.models),u(),D("selectedModel",e.selectedModel),a("tablename","equipments"))},dependencies:[P,B,V,K,T,N,I,q,G],styles:[".model-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.model-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .model-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}.model-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#333}",".association-list[_ngcontent-%COMP%]{margin-top:20px}.associations-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.association[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.model-blocks[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.model-block[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #ccc;border-radius:5px;background-color:#f0f0f0;text-align:center;cursor:pointer}.invalid[_ngcontent-%COMP%]{border-color:red}.disabledBtn[_ngcontent-%COMP%]{background-color:gray;border-color:gray}"]});let r=s;return r})();var Se=r=>({invalid:r});function Le(r,s){if(r&1){let d=E();o(0,"div",14),p("click",function(){let t=C(d).$implicit,e=S();return y(e.openFullScreen(t))}),l(1),i()}if(r&2){let d=s.$implicit;u(),f(d.title)}}var Ce=(()=>{let s=class s{constructor(n,t){this.shipModelService=n,this.snackBar=t}ngOnInit(){this.form=new A({title:new g(null,[m.required,m.maxLength(50)]),description:new g(null,[m.required,m.maxLength(150)])}),this.getModels().subscribe(),this.responseError=!1}ngOnDestroy(){this.aSub&&this.aSub.unsubscribe()}OnSubmit(){this.form.disable(),this.aSub=this.shipModelService.SendData2Server("api/v1/create/security-indicator",this.form.value).subscribe(n=>{this.getModels().subscribe(()=>{this.snackBar.open("\u041C\u043E\u0434\u0435\u043B\u044C \u0441\u043E\u0437\u0434\u0430\u043D\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E","OK",{duration:5e3}),this.form.enable(),this.form.reset()})},n=>{this.snackBar.open(`\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u043C\u043E\u0434\u0435\u043B\u0438: ${n.message}`,"OK",{duration:5e3}),this.responseError=!0,this.form.enable()})}openFullScreen(n){this.selectedModel=n}deleteModel(n){this.models=this.models.filter(t=>t.id!=n)}getModels(){return this.shipModelService.GetDataFromServer("api/v1/getModel/security-indicators").pipe(W(n=>{this.models=n}))}};s.\u0275fac=function(t){return new(t||s)(_(O),_(F))},s.\u0275cmp=x({type:s,selectors:[["app-security-indicator-form"]],inputs:{responseError:"responseError"},decls:22,vars:11,consts:[[1,"security-indicator-form"],[1,"display-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","inputTitle",1,"form-label"],["type","text","id","inputTitle","aria-describedby","titleHelp","formControlName","title",1,"form-control",3,"ngClass"],["id","titleHelp",1,"form-text"],["for","inputDescription",1,"form-label"],["type","text","id","inputDescription","formControlName","description",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"my-4"],[1,"model-blocks"],["class","model-block",3,"click",4,"ngFor","ngForOf"],[3,"selectedModelChange","deletedModel","selectedModel","tablename"],[1,"model-block",3,"click"]],template:function(t,e){t&1&&(o(0,"div",0)(1,"h1",1),l(2,"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0435\u043B\u044C \u0437\u0430\u0449\u0438\u0449\u0435\u043D\u043D\u043E\u0441\u0442\u0438"),i(),o(3,"form",2),p("ngSubmit",function(){return e.OnSubmit()}),o(4,"div",3)(5,"label",4),l(6,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"),i(),v(7,"input",5),o(8,"div",6),l(9,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u043A\u0430\u0437\u0430\u0442\u0435\u043B\u044F \u0437\u0430\u0449\u0438\u0449\u0435\u043D\u043D\u043E\u0441\u0442\u0438, \u043A\u043E\u0442\u043E\u0440\u043E\u0433\u043E \u043D\u0435\u0442 \u0432 \u0441\u043F\u0438\u0441\u043A\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0445"),i()(),o(10,"div",3)(11,"label",7),l(12,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"),i(),v(13,"input",8),i(),o(14,"button",9),l(15,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),i()(),o(16,"div",10)(17,"h2"),l(18,"\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0435 \u043F\u043E\u043A\u0430\u0437\u0430\u0442\u0435\u043B\u0438 \u0437\u0430\u0449\u0438\u0449\u0435\u043D\u043D\u043E\u0441\u0442\u0438"),i(),o(19,"div",11),h(20,Le,2,1,"div",12),i()(),o(21,"app-description-screen",13),k("selectedModelChange",function(c){return w(e.selectedModel,c)||(e.selectedModel=c),c}),p("deletedModel",function(c){return e.deleteModel(c)}),i()()),t&2&&(u(3),a("formGroup",e.form),u(4),a("ngClass",b(7,Se,e.form.get("title").invalid&&e.form.get("title").touched)),u(6),a("ngClass",b(9,Se,e.form.get("description").invalid&&e.form.get("description").touched)),u(),a("disabled",e.form.invalid||e.form.disabled),u(6),a("ngForOf",e.models),u(),D("selectedModel",e.selectedModel),a("tablename","security_indicators"))},dependencies:[P,B,V,K,T,N,I,q,G],styles:[".model-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.model-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .model-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}.model-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#333}",".association-list[_ngcontent-%COMP%]{margin-top:20px}.associations-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.association[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.model-blocks[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.model-block[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #ccc;border-radius:5px;background-color:#f0f0f0;text-align:center;cursor:pointer}.invalid[_ngcontent-%COMP%]{border-color:red}.disabledBtn[_ngcontent-%COMP%]{background-color:gray;border-color:gray}"]});let r=s;return r})();var ye=r=>({invalid:r});function $e(r,s){if(r&1&&(o(0,"option",19),l(1),i()),r&2){let d=s.$implicit;a("value",d),u(),f(d)}}function je(r,s){if(r&1&&(o(0,"option",19),l(1),i()),r&2){let d=s.$implicit;a("value",d),u(),f(d)}}function He(r,s){if(r&1){let d=E();o(0,"div",20)(1,"div",21),p("click",function(){let t=C(d).$implicit,e=S();return y(e.openFullScreen(t.model1))}),l(2),i(),o(3,"div",22),v(4,"hr",23),i(),o(5,"div",24)(6,"button",25),p("click",function(){let t=C(d).$implicit,e=S();return y(e.deleteAssociation(t.id))}),l(7,"\u0423\u0434\u0430\u043B\u0438\u0442\u044C"),i()(),o(8,"div",22),v(9,"hr",23),i(),o(10,"div",21),p("click",function(){let t=C(d).$implicit,e=S();return y(e.openFullScreen(t.model2))}),l(11),i()()}if(r&2){let d=s.$implicit;u(2),f(d.model1.title),u(9),f(d.model2.title)}}var Me=(()=>{let s=class s{constructor(n,t){this.shipModelService=n,this.snackBar=t}ngOnInit(){this.form=new A({ship:new g(null,[m.required]),ship_system:new g(null,[m.required])}),this.shipModelService.GetDataFromServer("api/v1/getModel/ships").subscribe(n=>{this.shipTitles=n.map(t=>t.title),this.shipModelService.GetDataFromServer("api/v1/getModel/ship-systems").subscribe(t=>{this.shipSystemTitles=t.map(e=>e.title),this.shipModelService.GetDataFromServer("api/v1/getAssociation/ship-systems").subscribe(e=>{console.log(e),this.associations=e})})}),this.responseError=!1}ngOnDestroy(){this.aSub&&this.aSub.unsubscribe()}OnSubmit(){this.form.disable(),this.aSub=this.shipModelService.SendData2Server("api/v1/create/system-ship-association",this.form.value).subscribe(n=>{this.snackBar.open("\u041C\u043E\u0434\u0435\u043B\u044C \u0441\u043E\u0437\u0434\u0430\u043D\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E","OK",{duration:5e3,panelClass:["snack-success"]}),this.shipModelService.GetDataFromServer("api/v1/getAssociation/ship-systems").subscribe(t=>{this.associations=t,this.form.enable(),this.form.reset()})},n=>{this.snackBar.open(`\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u043C\u043E\u0434\u0435\u043B\u0438: ${n.message}`,"OK",{duration:5e3,panelClass:["snack-error"]}),this.responseError=!0,this.form.enable()})}openFullScreen(n){n.category?this.selectedShipSystemModel=n:this.selectedShipModel=n}deleteAssociation(n){this.shipModelService.DeleteModel(`api/v1/deleteModel?id=${n}&tablename=ship_and_systems`).subscribe(t=>{console.log(t),this.associations=this.associations.filter(e=>e.id!=n),this.snackBar.open("\u0421\u0432\u044F\u0437\u044C \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D\u0430","OK",{duration:3e3})},t=>{let e="";switch(t.status){case 404:e="\u041E\u0448\u0438\u0431\u043A\u0430. \u0421\u0432\u044F\u0437\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430";break;default:e="\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430";break}this.snackBar.open(e,"OK",{duration:3e3})})}};s.\u0275fac=function(t){return new(t||s)(_(O),_(F))},s.\u0275cmp=x({type:s,selectors:[["app-sysship-association-form"]],inputs:{responseError:"responseError"},decls:32,vars:13,consts:[[1,"ship-system-form"],[1,"display-5","mb-5"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col"],[1,"mb-3"],["for","selectShip",1,"form-label"],["id","selectShip","formControlName","ship",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","selectShipSystem",1,"form-label"],["id","selectShipSystem","formControlName","ship_system",1,"form-select",3,"ngClass"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"association-list"],[1,"associations-container"],[1,"row","w-100"],[1,"col","h5","text-center"],[1,"w-25"],["class","row w-100 align-items-center mb-2",4,"ngFor","ngForOf"],[3,"selectedModelChange","selectedModel"],[3,"value"],[1,"row","w-100","align-items-center","mb-2"],[1,"model-block","col-4","p-0",3,"click"],[1,"col-1","p-0"],[1,"w-100","m-0"],[1,"col-2","p-0"],[1,"btn","btn-danger","w-100",3,"click"]],template:function(t,e){t&1&&(o(0,"div",0)(1,"h1",1),l(2,"\u0410\u0441\u0441\u043E\u0446\u0438\u0430\u0446\u0438\u044F \u043A\u043E\u0440\u0430\u0431\u043B\u044F \u0438 \u0435\u0433\u043E \u0441\u0438\u0441\u0442\u0435\u043C\u044B"),i(),o(3,"form",2),p("ngSubmit",function(){return e.OnSubmit()}),o(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),l(8,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043A\u043E\u0440\u0430\u0431\u043B\u044C"),i(),o(9,"select",7),h(10,$e,2,2,"option",8),i()()(),o(11,"div",4)(12,"div",5)(13,"label",9),l(14,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0438\u0441\u0442\u0435\u043C\u0443 \u043A\u043E\u0440\u0430\u0431\u043B\u044F"),i(),o(15,"select",10),h(16,je,2,2,"option",8),i()()()(),o(17,"button",11),l(18,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),i()(),o(19,"div",12)(20,"h2"),l(21,"\u0421\u043F\u0438\u0441\u043E\u043A \u0430\u0441\u0441\u043E\u0446\u0438\u0430\u0446\u0438\u0439:"),i(),o(22,"div",13)(23,"div",14)(24,"div",15),l(25,"\u041A\u043E\u0440\u0430\u0431\u043B\u0438"),i(),v(26,"div",16),o(27,"div",15),l(28,"\u0421\u0438\u0441\u0442\u0435\u043C\u044B \u043A\u043E\u0440\u0430\u0431\u043B\u0435\u0439"),i()(),h(29,He,12,2,"div",17),i()(),o(30,"app-description-screen",18),k("selectedModelChange",function(c){return w(e.selectedShipModel,c)||(e.selectedShipModel=c),c}),i(),o(31,"app-description-screen-sysship",18),k("selectedModelChange",function(c){return w(e.selectedShipSystemModel,c)||(e.selectedShipSystemModel=c),c}),i()()),t&2&&(u(3),a("formGroup",e.form),u(6),a("ngClass",b(9,ye,e.form.get("ship").invalid&&e.form.get("ship").touched)),u(),a("ngForOf",e.shipTitles),u(5),a("ngClass",b(11,ye,e.form.get("ship_system").invalid&&e.form.get("ship_system").touched)),u(),a("ngForOf",e.shipSystemTitles),u(),a("disabled",e.form.invalid||e.form.disabled),u(12),a("ngForOf",e.associations),u(),D("selectedModel",e.selectedShipModel),u(),D("selectedModel",e.selectedShipSystemModel))},dependencies:[P,B,V,$,j,L,T,N,I,q,G,X],styles:[".model-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.model-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .model-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}.model-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#333}",".association-list[_ngcontent-%COMP%]{margin-top:20px}.associations-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.association[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.model-blocks[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.model-block[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #ccc;border-radius:5px;background-color:#f0f0f0;text-align:center;cursor:pointer}.invalid[_ngcontent-%COMP%]{border-color:red}.disabledBtn[_ngcontent-%COMP%]{background-color:gray;border-color:gray}"]});let r=s;return r})();var Ee=r=>({invalid:r});function ze(r,s){if(r&1&&(o(0,"option",19),l(1),i()),r&2){let d=s.$implicit;a("value",d),u(),f(d)}}function Re(r,s){if(r&1&&(o(0,"option",19),l(1),i()),r&2){let d=s.$implicit;a("value",d),u(),f(d)}}function Je(r,s){if(r&1){let d=E();o(0,"div",20)(1,"div",21),p("click",function(){let t=C(d).$implicit,e=S();return y(e.openFullScreen(t.model1))}),l(2),i(),o(3,"div",22),v(4,"hr",23),i(),o(5,"div",24)(6,"button",25),p("click",function(){let t=C(d).$implicit,e=S();return y(e.deleteAssociation(t.id))}),l(7,"\u0423\u0434\u0430\u043B\u0438\u0442\u044C"),i()(),o(8,"div",22),v(9,"hr",23),i(),o(10,"div",21),p("click",function(){let t=C(d).$implicit,e=S();return y(e.openFullScreen(t.model2))}),l(11),i()()}if(r&2){let d=s.$implicit;u(2),f(d.model1.title),u(9),f(d.model2.title)}}var xe=(()=>{let s=class s{constructor(n,t){this.shipModelService=n,this.snackBar=t}ngOnInit(){this.form=new A({security_indicator:new g(null,[m.required]),ship_system:new g(null,[m.required])}),this.shipModelService.GetDataFromServer("api/v1/getModel/security-indicators").subscribe(n=>{this.securityIndicatorTitles=n.map(t=>t.title),this.shipModelService.GetDataFromServer("api/v1/getModel/ship-systems").subscribe(t=>{this.shipSystemTitles=t.map(e=>e.title),this.shipModelService.GetDataFromServer("api/v1/getAssociation/security-systems").subscribe(e=>{this.associations=e})})}),this.responseError=!1}ngOnDestroy(){this.aSub&&this.aSub.unsubscribe()}OnSubmit(){this.form.disable(),this.aSub=this.shipModelService.SendData2Server("api/v1/create/security-sys-association",this.form.value).subscribe(n=>{this.snackBar.open("\u041C\u043E\u0434\u0435\u043B\u044C \u0441\u043E\u0437\u0434\u0430\u043D\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E","OK",{duration:5e3}),this.shipModelService.GetDataFromServer("api/v1/getAssociation/security-systems").subscribe(t=>{this.associations=t,this.form.enable(),this.form.reset()})},n=>{this.snackBar.open(`\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u043C\u043E\u0434\u0435\u043B\u0438: ${n.message}`,"OK",{duration:5e3}),this.responseError=!0,this.form.enable()})}openFullScreen(n){n.category?this.selectedShipSystemModel=n:this.selectedSecurityModel=n}deleteAssociation(n){this.shipModelService.DeleteModel(`api/v1/deleteModel?id=${n}&tablename=system_and_indicators`).subscribe(t=>{console.log(t),this.associations=this.associations.filter(e=>e.id!=n),this.snackBar.open("\u0421\u0432\u044F\u0437\u044C \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D\u0430","OK",{duration:3e3})},t=>{let e="";switch(t.status){case 404:e="\u041E\u0448\u0438\u0431\u043A\u0430. \u0421\u0432\u044F\u0437\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430";break;default:e="\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430";break}this.snackBar.open(e,"OK",{duration:3e3})})}};s.\u0275fac=function(t){return new(t||s)(_(O),_(F))},s.\u0275cmp=x({type:s,selectors:[["app-securitysys-association-form"]],inputs:{responseError:"responseError"},decls:31,vars:13,consts:[[1,"security-sys-form"],[1,"display-5","mb-5"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col"],[1,"mb-3"],["for","selectSecurity",1,"form-label"],["id","selectSecurity","formControlName","security_indicator",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","selectShipSystem",1,"form-label"],["id","selectShipSystem","formControlName","ship_system",1,"form-select",3,"ngClass"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"association-list"],[1,"associations-container"],[1,"row","w-100"],[1,"col-4","h5","text-center"],[1,"col-4","offset-4","h5","text-center"],["class","row w-100 align-items-center mb-2",4,"ngFor","ngForOf"],[3,"selectedModelChange","selectedModel"],[3,"value"],[1,"row","w-100","align-items-center","mb-2"],[1,"model-block","col-4","p-0",3,"click"],[1,"col-1","p-0"],[1,"w-100","m-0"],[1,"col-2","p-0"],[1,"btn","btn-danger","w-100",3,"click"]],template:function(t,e){t&1&&(o(0,"div",0)(1,"h1",1),l(2,"\u0410\u0441\u0441\u043E\u0446\u0438\u0430\u0446\u0438\u044F \u0441\u0438\u0441\u0442\u0435\u043C\u044B \u043A\u043E\u0440\u0430\u0431\u043B\u044F \u0438 \u043F\u043E\u043A\u0430\u0437\u0430\u0442\u0435\u043B\u044F \u0437\u0430\u0449\u0438\u0449\u0435\u043D\u043D\u043E\u0441\u0442\u0438"),i(),o(3,"form",2),p("ngSubmit",function(){return e.OnSubmit()}),o(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),l(8,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u043E\u043A\u0430\u0437\u0430\u0442\u0435\u043B\u044C \u0437\u0430\u0449\u0438\u0449\u0435\u043D\u043D\u043E\u0441\u0442\u0438"),i(),o(9,"select",7),h(10,ze,2,2,"option",8),i()()(),o(11,"div",4)(12,"div",5)(13,"label",9),l(14,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0438\u0441\u0442\u0435\u043C\u0443 \u043A\u043E\u0440\u0430\u0431\u043B\u044F"),i(),o(15,"select",10),h(16,Re,2,2,"option",8),i()()()(),o(17,"button",11),l(18,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),i()(),o(19,"div",12)(20,"h2"),l(21,"\u0421\u043F\u0438\u0441\u043E\u043A \u0430\u0441\u0441\u043E\u0446\u0438\u0430\u0446\u0438\u0439:"),i(),o(22,"div",13)(23,"div",14)(24,"div",15),l(25,"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0435\u043B\u0438"),i(),o(26,"div",16),l(27,"\u0421\u0438\u0441\u0442\u0435\u043C\u044B \u043A\u043E\u0440\u0430\u0431\u043B\u0435\u0439"),i()(),h(28,Je,12,2,"div",17),i()(),o(29,"app-description-screen",18),k("selectedModelChange",function(c){return w(e.selectedSecurityModel,c)||(e.selectedSecurityModel=c),c}),i(),o(30,"app-description-screen-sysship",18),k("selectedModelChange",function(c){return w(e.selectedShipSystemModel,c)||(e.selectedShipSystemModel=c),c}),i()()),t&2&&(u(3),a("formGroup",e.form),u(6),a("ngClass",b(9,Ee,e.form.get("security_indicator").invalid&&e.form.get("security_indicator").touched)),u(),a("ngForOf",e.securityIndicatorTitles),u(5),a("ngClass",b(11,Ee,e.form.get("ship_system").invalid&&e.form.get("ship_system").touched)),u(),a("ngForOf",e.shipSystemTitles),u(),a("disabled",e.form.invalid||e.form.disabled),u(11),a("ngForOf",e.associations),u(),D("selectedModel",e.selectedSecurityModel),u(),D("selectedModel",e.selectedShipSystemModel))},dependencies:[P,B,V,$,j,L,T,N,I,q,G,X],styles:[".model-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.model-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .model-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}.model-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#333}",".association-list[_ngcontent-%COMP%]{margin-top:20px}.associations-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.association[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.model-blocks[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.model-block[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #ccc;border-radius:5px;background-color:#f0f0f0;text-align:center;cursor:pointer}.invalid[_ngcontent-%COMP%]{border-color:red}.disabledBtn[_ngcontent-%COMP%]{background-color:gray;border-color:gray}"]});let r=s;return r})();var oe=r=>({invalid:r});function Qe(r,s){if(r&1&&(o(0,"option",17),l(1),i()),r&2){let d=s.$implicit;a("value",d),u(),f(d)}}function Ue(r,s){if(r&1){let d=E();o(0,"div",18),p("click",function(){let t=C(d).$implicit,e=S();return y(e.openFullScreen(t))}),l(1),i()}if(r&2){let d=s.$implicit;u(),f(d.title)}}var Fe=(()=>{let s=class s{constructor(n,t){this.shipModelService=n,this.snackBar=t}ngOnInit(){this.form=new A({title:new g(null,[m.required,m.maxLength(50)]),description:new g(null,[m.required,m.maxLength(150)]),equipment:new g(null,[m.required])}),this.getModels().subscribe(),this.responseError=!1}ngOnDestroy(){this.aSub&&this.aSub.unsubscribe()}OnSubmit(){this.form.disable(),this.aSub=this.shipModelService.SendData2Server("api/v1/create/protection",this.form.value).subscribe(n=>{this.getModels().subscribe(()=>{this.snackBar.open("\u041C\u043E\u0434\u0435\u043B\u044C \u0441\u043E\u0437\u0434\u0430\u043D\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E","OK",{duration:5e3}),this.form.enable(),this.form.reset()})},n=>{this.snackBar.open(`\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u043C\u043E\u0434\u0435\u043B\u0438: ${n.message}`,"OK",{duration:5e3}),this.responseError=!0,this.form.enable()})}openFullScreen(n){this.selectedModel=n}deleteModel(n){this.models=this.models.filter(t=>t.id!=n)}getModels(){return this.shipModelService.GetDataFromServer("api/v1/getModel/protections").pipe(W(n=>{this.models=n,this.shipModelService.GetDataFromServer("api/v1/getModel/equipments").subscribe(t=>{this.equipmentTitles=t.map(e=>e.title)})}))}};s.\u0275fac=function(t){return new(t||s)(_(O),_(F))},s.\u0275cmp=x({type:s,selectors:[["app-protection-form"]],inputs:{responseError:"responseError"},decls:27,vars:15,consts:[[1,"protection-form"],[1,"display-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","inputTitle",1,"form-label"],["type","text","id","inputTitle","aria-describedby","titleHelp","formControlName","title",1,"form-control",3,"ngClass"],["id","titleHelp",1,"form-text"],["for","inputDescription",1,"form-label"],["type","text","id","inputDescription","formControlName","description",1,"form-control",3,"ngClass"],["for","selectEquipment",1,"form-label"],["id","selectEquipment","formControlName","equipment",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"my-4"],[1,"model-blocks"],["class","model-block",3,"click",4,"ngFor","ngForOf"],[3,"selectedModelChange","deletedModel","selectedModel","tablename"],[3,"value"],[1,"model-block",3,"click"]],template:function(t,e){t&1&&(o(0,"div",0)(1,"h1",1),l(2,"\u041C\u0435\u0440\u044B \u0437\u0430\u0449\u0438\u0449\u0435\u043D\u043D\u043E\u0441\u0442\u0438 \u043E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u0438\u044F"),i(),o(3,"form",2),p("ngSubmit",function(){return e.OnSubmit()}),o(4,"div",3)(5,"label",4),l(6,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"),i(),v(7,"input",5),o(8,"div",6),l(9,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0437\u0430\u0449\u0438\u0449\u0435\u043D\u043D\u043E\u0441\u0442\u0438, \u043A\u043E\u0442\u043E\u0440\u043E\u0439 \u043D\u0435\u0442 \u0432 \u0441\u043F\u0438\u0441\u043A\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0445"),i()(),o(10,"div",3)(11,"label",7),l(12,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"),i(),v(13,"input",8),i(),o(14,"div",3)(15,"label",9),l(16,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u0438\u0435"),i(),o(17,"select",10),h(18,Qe,2,2,"option",11),i()(),o(19,"button",12),l(20,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),i()(),o(21,"div",13)(22,"h2"),l(23,"\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0435 \u043C\u0435\u0440\u044B \u0437\u0430\u0449\u0438\u0442\u044B"),i(),o(24,"div",14),h(25,Ue,2,1,"div",15),i()(),o(26,"app-description-screen",16),k("selectedModelChange",function(c){return w(e.selectedModel,c)||(e.selectedModel=c),c}),p("deletedModel",function(c){return e.deleteModel(c)}),i()()),t&2&&(u(3),a("formGroup",e.form),u(4),a("ngClass",b(9,oe,e.form.get("title").invalid&&e.form.get("title").touched)),u(6),a("ngClass",b(11,oe,e.form.get("description").invalid&&e.form.get("description").touched)),u(4),a("ngClass",b(13,oe,e.form.get("equipment").invalid&&e.form.get("equipment").touched)),u(),a("ngForOf",e.equipmentTitles),u(),a("disabled",e.form.invalid||e.form.disabled),u(6),a("ngForOf",e.models),u(),D("selectedModel",e.selectedModel),a("tablename","protections"))},dependencies:[P,B,V,$,j,K,L,T,N,I,q,G],styles:[".model-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.model-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .model-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}.model-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#333}",".association-list[_ngcontent-%COMP%]{margin-top:20px}.associations-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.association[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.model-blocks[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.model-block[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #ccc;border-radius:5px;background-color:#f0f0f0;text-align:center;cursor:pointer}.invalid[_ngcontent-%COMP%]{border-color:red}.disabledBtn[_ngcontent-%COMP%]{background-color:gray;border-color:gray}"]});let r=s;return r})();var re=r=>({invalid:r});function Xe(r,s){if(r&1&&(o(0,"option",17),l(1),i()),r&2){let d=s.$implicit;a("value",d),u(),f(d)}}function Ye(r,s){if(r&1){let d=E();o(0,"div",18),p("click",function(){let t=C(d).$implicit,e=S();return y(e.openFullScreen(t))}),l(1),i()}if(r&2){let d=s.$implicit;u(),f(d.title)}}var Oe=(()=>{let s=class s{constructor(n,t){this.shipModelService=n,this.snackBar=t}ngOnInit(){this.form=new A({title:new g(null,[m.required,m.maxLength(50)]),description:new g(null,[m.required,m.maxLength(150)]),equipment:new g(null,[m.required])}),this.getModels().subscribe(),this.responseError=!1}ngOnDestroy(){this.aSub&&this.aSub.unsubscribe()}OnSubmit(){this.form.disable(),this.aSub=this.shipModelService.SendData2Server("api/v1/create/vulnerability",this.form.value).subscribe(n=>{this.getModels().subscribe(()=>{this.snackBar.open("\u041C\u043E\u0434\u0435\u043B\u044C \u0441\u043E\u0437\u0434\u0430\u043D\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E","OK",{duration:5e3}),this.form.enable(),this.form.reset()})},n=>{this.snackBar.open(`\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u043C\u043E\u0434\u0435\u043B\u0438: ${n.message}`,"OK",{duration:5e3}),this.responseError=!0,this.form.enable()})}openFullScreen(n){this.selectedModel=n,console.log(this.selectedModel)}deleteModel(n){this.models=this.models.filter(t=>t.id!=n)}getModels(){return this.shipModelService.GetDataFromServer("api/v1/getModel/vulnerabilities").pipe(W(n=>{this.models=n,this.shipModelService.GetDataFromServer("api/v1/getModel/equipments").subscribe(t=>{this.equipmentTitles=t.map(e=>e.title)})}))}};s.\u0275fac=function(t){return new(t||s)(_(O),_(F))},s.\u0275cmp=x({type:s,selectors:[["app-vulnerability-form"]],inputs:{responseError:"responseError"},decls:27,vars:15,consts:[[1,"vulnerability-form"],[1,"display-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","inputTitle",1,"form-label"],["type","text","id","inputTitle","aria-describedby","titleHelp","formControlName","title",1,"form-control",3,"ngClass"],["id","titleHelp",1,"form-text"],["for","inputDescription",1,"form-label"],["type","text","id","inputDescription","formControlName","description",1,"form-control",3,"ngClass"],["for","selectEquipment",1,"form-label"],["id","selectEquipment","formControlName","equipment",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"my-4"],[1,"model-blocks"],["class","model-block",3,"click",4,"ngFor","ngForOf"],[3,"selectedModelChange","deletedModel","selectedModel","tablename"],[3,"value"],[1,"model-block",3,"click"]],template:function(t,e){t&1&&(o(0,"div",0)(1,"h1",1),l(2,"\u0423\u044F\u0437\u0432\u0438\u043C\u043E\u0441\u0442\u044C \u043E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u0438\u044F"),i(),o(3,"form",2),p("ngSubmit",function(){return e.OnSubmit()}),o(4,"div",3)(5,"label",4),l(6,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"),i(),v(7,"input",5),o(8,"div",6),l(9,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0443\u044F\u0437\u0432\u0438\u043C\u043E\u0441\u0442\u0438, \u043A\u043E\u0442\u043E\u0440\u043E\u0439 \u043D\u0435\u0442 \u0432 \u0441\u043F\u0438\u0441\u043A\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0445"),i()(),o(10,"div",3)(11,"label",7),l(12,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"),i(),v(13,"input",8),i(),o(14,"div",3)(15,"label",9),l(16,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u0438\u0435"),i(),o(17,"select",10),h(18,Xe,2,2,"option",11),i()(),o(19,"button",12),l(20,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),i()(),o(21,"div",13)(22,"h2"),l(23,"\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0435 \u0443\u044F\u0437\u0432\u0438\u043C\u043E\u0441\u0442\u0438"),i(),o(24,"div",14),h(25,Ye,2,1,"div",15),i()(),o(26,"app-description-screen",16),k("selectedModelChange",function(c){return w(e.selectedModel,c)||(e.selectedModel=c),c}),p("deletedModel",function(c){return e.deleteModel(c)}),i()()),t&2&&(u(3),a("formGroup",e.form),u(4),a("ngClass",b(9,re,e.form.get("title").invalid&&e.form.get("title").touched)),u(6),a("ngClass",b(11,re,e.form.get("description").invalid&&e.form.get("description").touched)),u(4),a("ngClass",b(13,re,e.form.get("equipment").invalid&&e.form.get("equipment").touched)),u(),a("ngForOf",e.equipmentTitles),u(),a("disabled",e.form.invalid||e.form.disabled),u(6),a("ngForOf",e.models),u(),D("selectedModel",e.selectedModel),a("tablename","vulnerabilities"))},dependencies:[P,B,V,$,j,K,L,T,N,I,q,G],styles:[".model-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.model-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .model-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}.model-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#333}",".association-list[_ngcontent-%COMP%]{margin-top:20px}.associations-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.association[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.model-blocks[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.model-block[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #ccc;border-radius:5px;background-color:#f0f0f0;text-align:center;cursor:pointer}.invalid[_ngcontent-%COMP%]{border-color:red}.disabledBtn[_ngcontent-%COMP%]{background-color:gray;border-color:gray}"]});let r=s;return r})();var De=r=>({invalid:r});function Ze(r,s){if(r&1&&(o(0,"option",19),l(1),i()),r&2){let d=s.$implicit;a("value",d),u(),f(d)}}function et(r,s){if(r&1&&(o(0,"option",19),l(1),i()),r&2){let d=s.$implicit;a("value",d),u(),f(d)}}function tt(r,s){if(r&1){let d=E();o(0,"div",20)(1,"div",21),p("click",function(){let t=C(d).$implicit,e=S();return y(e.openFullScreen(t.model1))}),l(2),i(),o(3,"div",22),v(4,"hr",23),i(),o(5,"div",24)(6,"button",25),p("click",function(){let t=C(d).$implicit,e=S();return y(e.deleteAssociation(t.id))}),l(7,"\u0423\u0434\u0430\u043B\u0438\u0442\u044C"),i()(),o(8,"div",22),v(9,"hr",23),i(),o(10,"div",21),p("click",function(){let t=C(d).$implicit,e=S();return y(e.openFullScreen(t.model2))}),l(11),i()()}if(r&2){let d=s.$implicit;u(2),f(d.model1.title),u(9),f(d.model2.title)}}var we=(()=>{let s=class s{constructor(n,t){this.shipModelService=n,this.snackBar=t}ngOnInit(){this.form=new A({equipment:new g(null,[m.required]),ship_system:new g(null,[m.required])}),this.shipModelService.GetDataFromServer("api/v1/getModel/equipments").subscribe(n=>{this.equipmentTitles=n.map(t=>t.title),this.shipModelService.GetDataFromServer("api/v1/getModel/ship-systems").subscribe(t=>{this.shipSystemTitles=t.map(e=>e.title),this.shipModelService.GetDataFromServer("api/v1/getAssociation/equipment-systems").subscribe(e=>{this.associations=e})})}),this.responseError=!1}ngOnDestroy(){this.aSub&&this.aSub.unsubscribe()}OnSubmit(){this.form.disable(),this.aSub=this.shipModelService.SendData2Server("api/v1/create/system-equipment-association",this.form.value).subscribe(n=>{this.snackBar.open("\u041C\u043E\u0434\u0435\u043B\u044C \u0441\u043E\u0437\u0434\u0430\u043D\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E","OK",{duration:5e3}),this.shipModelService.GetDataFromServer("api/v1/getAssociation/equipment-systems").subscribe(t=>{this.associations=t,this.form.enable(),this.form.reset()})},n=>{this.snackBar.open(`\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u043C\u043E\u0434\u0435\u043B\u0438: ${n.message}`,"OK",{duration:5e3}),this.responseError=!0,this.form.enable()})}openFullScreen(n){n.category?this.selectedShipSystemModel=n:this.selectedEquipmentModel=n}deleteAssociation(n){this.shipModelService.DeleteModel(`api/v1/deleteModel?id=${n}&tablename=system_and_equipments`).subscribe(t=>{console.log(t),this.associations=this.associations.filter(e=>e.id!=n),this.snackBar.open("\u0421\u0432\u044F\u0437\u044C \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D\u0430","OK",{duration:3e3})},t=>{let e="";switch(t.status){case 404:e="\u041E\u0448\u0438\u0431\u043A\u0430. \u0421\u0432\u044F\u0437\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430";break;default:e="\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430";break}this.snackBar.open(e,"OK",{duration:3e3})})}};s.\u0275fac=function(t){return new(t||s)(_(O),_(F))},s.\u0275cmp=x({type:s,selectors:[["app-sysequipment-association"]],decls:32,vars:13,consts:[[1,"security-sys-form"],[1,"display-5","mb-5"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col"],[1,"mb-3"],["for","selectEquipment",1,"form-label"],["id","selectEquipment","formControlName","equipment",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","selectShipSystem",1,"form-label"],["id","selectShipSystem","formControlName","ship_system",1,"form-select",3,"ngClass"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"association-list"],[1,"associations-container"],[1,"row","w-100"],[1,"col","h5","text-center"],[1,"w-25"],["class","row w-100 align-items-center mb-2",4,"ngFor","ngForOf"],[3,"selectedModelChange","selectedModel"],[3,"value"],[1,"row","w-100","align-items-center","mb-2"],[1,"model-block","col-4","p-0",3,"click"],[1,"col-1","p-0"],[1,"w-100","m-0"],[1,"col-2","p-0"],[1,"btn","btn-danger","w-100",3,"click"]],template:function(t,e){t&1&&(o(0,"div",0)(1,"h1",1),l(2,"\u0410\u0441\u0441\u043E\u0446\u0438\u0430\u0446\u0438\u044F \u0441\u0438\u0441\u0442\u0435\u043C\u044B \u043A\u043E\u0440\u0430\u0431\u043B\u044F \u0438 \u043E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u0438\u044F"),i(),o(3,"form",2),p("ngSubmit",function(){return e.OnSubmit()}),o(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),l(8,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u0438\u0435"),i(),o(9,"select",7),h(10,Ze,2,2,"option",8),i()()(),o(11,"div",4)(12,"div",5)(13,"label",9),l(14,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0438\u0441\u0442\u0435\u043C\u0443 \u043A\u043E\u0440\u0430\u0431\u043B\u044F"),i(),o(15,"select",10),h(16,et,2,2,"option",8),i()()()(),o(17,"button",11),l(18,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),i()(),o(19,"div",12)(20,"h2"),l(21,"\u0421\u043F\u0438\u0441\u043E\u043A \u0430\u0441\u0441\u043E\u0446\u0438\u0430\u0446\u0438\u0439:"),i(),o(22,"div",13)(23,"div",14)(24,"div",15),l(25,"\u041E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u0438\u0435"),i(),v(26,"div",16),o(27,"div",15),l(28,"\u0421\u0438\u0441\u0442\u0435\u043C\u044B \u043A\u043E\u0440\u0430\u0431\u043B\u0435\u0439"),i()(),h(29,tt,12,2,"div",17),i()(),o(30,"app-description-screen",18),k("selectedModelChange",function(c){return w(e.selectedEquipmentModel,c)||(e.selectedEquipmentModel=c),c}),i(),o(31,"app-description-screen-sysship",18),k("selectedModelChange",function(c){return w(e.selectedShipSystemModel,c)||(e.selectedShipSystemModel=c),c}),i()()),t&2&&(u(3),a("formGroup",e.form),u(6),a("ngClass",b(9,De,e.form.get("equipment").invalid&&e.form.get("equipment").touched)),u(),a("ngForOf",e.equipmentTitles),u(5),a("ngClass",b(11,De,e.form.get("ship_system").invalid&&e.form.get("ship_system").touched)),u(),a("ngForOf",e.shipSystemTitles),u(),a("disabled",e.form.invalid||e.form.disabled),u(12),a("ngForOf",e.associations),u(),D("selectedModel",e.selectedEquipmentModel),u(),D("selectedModel",e.selectedShipSystemModel))},dependencies:[P,B,V,$,j,L,T,N,I,q,G,X],styles:[".model-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.model-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .model-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}.model-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#333}",".association-list[_ngcontent-%COMP%]{margin-top:20px}.associations-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.association[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.model-blocks[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.model-block[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #ccc;border-radius:5px;background-color:#f0f0f0;text-align:center;cursor:pointer}.invalid[_ngcontent-%COMP%]{border-color:red}.disabledBtn[_ngcontent-%COMP%]{background-color:gray;border-color:gray}"]});let r=s;return r})();var it=[{path:"ship",component:he},{path:"ship-system",component:be},{path:"danger",component:_e},{path:"equipment",component:ve},{path:"protection",component:Fe},{path:"vulnerability",component:Oe},{path:"security-indicator",component:Ce},{path:"sysship-association",component:Me},{path:"securitysys-association",component:xe},{path:"sysequipment-association",component:we}],ni=(()=>{let s=class s{};s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=le({type:s}),s.\u0275inj=se({imports:[ae,de,me,pe,fe,ce.forChild(it)]});let r=s;return r})();export{ni as InputShipModule};
